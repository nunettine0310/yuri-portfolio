<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Í≤Ä Í∞ïÌôî Í≤åÏûÑ</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans KR', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
        
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translateX(5px); }
        }
        
        .animate-fadeIn {
            animation: fadeIn 0.3s ease-out;
        }
        
        .animate-scaleIn {
            animation: scaleIn 0.3s ease-out;
        }
        
        .animate-slideIn {
            animation: slideIn 0.5s ease-out;
        }
        
        .animate-shake {
            animation: shake 0.5s ease-out;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        const SWORD_NAMES = [
            "ÎÖπÏä® Í≤Ä", "ÎÇ°ÏùÄ Í≤Ä", "Ï≤†Í≤Ä", "Í∞ïÏ≤†Í≤Ä", "ÏùÄÍ≤Ä",
            "Ìô©Í∏àÍ≤Ä", "ÌÅ¨Î¶¨Ïä§ÌÉà Í≤Ä", "ÎßàÎ≤ï Í≤Ä", "ÏòÅÏõÖÏùò Í≤Ä", "Ï†ÑÏÑ§Ïùò Í≤Ä",
            "Ïã†ÏÑ±Ìïú Í≤Ä", "Ïö©Ïùò Í≤Ä", "Î∂àÍΩÉ Í≤Ä", "ÏñºÏùå Í≤Ä", "Î≤àÍ∞ú Í≤Ä",
            "ÏïîÌùë Í≤Ä", "ÎπõÏùò Í≤Ä", "ÏãúÍ≥µÏùò Í≤Ä", "Ïö∞Ï£ºÏùò Í≤Ä", "Ï∞ΩÏ°∞Ïùò Í≤Ä",
            "ÌååÍ¥¥Ïùò Í≤Ä", "ÏòÅÏõêÏùò Í≤Ä", "Î¨¥ÌïúÏùò Í≤Ä", "Ï†àÎåÄÏùò Í≤Ä", "Ï¥àÏõîÏùò Í≤Ä",
            "Ïã†ÌôîÏùò Í≤Ä", "Ï†ÑÎä•Ïùò Í≤Ä", "Ï≤úÏÉÅÏùò Í≤Ä", "Í∂ÅÍ∑πÏùò Í≤Ä", "Î∂àÎ©∏Ïùò Í≤Ä",
            "ÏÑ∏Í≥ÑÏàòÏùò Í≤Ä"
        ];

        // SVG ÏïÑÏù¥ÏΩò Ïª¥Ìè¨ÎÑåÌä∏Îì§
        const Sword = ({ className, style }) => (
            <svg className={className} style={style} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M14.5 17.5 3 6V3h3l11.5 11.5" />
                <path d="M13 19 9 15" />
                <path d="m16 16 5 5" />
                <path d="m19 21 2-2" />
            </svg>
        );

        const Shield = ({ className }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z" />
            </svg>
        );

        const DollarSign = ({ className }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <line x1="12" y1="2" x2="12" y2="22" />
                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
            </svg>
        );

        const Sparkles = ({ className }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z" />
                <path d="M5 3v4" />
                <path d="M19 17v4" />
                <path d="M3 5h4" />
                <path d="M17 19h4" />
            </svg>
        );

        const X = ({ className }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <line x1="18" y1="6" x2="6" y2="18" />
                <line x1="6" y1="6" x2="18" y2="18" />
            </svg>
        );

        const ShoppingCart = ({ className }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <circle cx="8" cy="21" r="1" />
                <circle cx="19" cy="21" r="1" />
                <path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12" />
            </svg>
        );

        const Trophy = ({ className }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6" />
                <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18" />
                <path d="M4 22h16" />
                <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22" />
                <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22" />
                <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z" />
            </svg>
        );

        const Volume2 = ({ className }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" />
                <path d="M15.54 8.46a5 5 0 0 1 0 7.07" />
                <path d="M19.07 4.93a10 10 0 0 1 0 14.14" />
            </svg>
        );

        const VolumeX = ({ className }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2">
                <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5" />
                <line x1="22" y1="9" x2="16" y2="15" />
                <line x1="16" y1="9" x2="22" y2="15" />
            </svg>
        );

        function App() {
            const [gold, setGold] = useState(1000);
            const [swordLevel, setSwordLevel] = useState(0);
            const [protectionScrolls, setProtectionScrolls] = useState(0);
            const [message, setMessage] = useState("");
            const [messageType, setMessageType] = useState("info");
            const [showShop, setShowShop] = useState(false);
            const [showAchievements, setShowAchievements] = useState(false);
            const [history, setHistory] = useState([]);
            const [upgrading, setUpgrading] = useState(false);
            const [animationType, setAnimationType] = useState("");
            const [isMuted, setIsMuted] = useState(false);
            const [newAchievement, setNewAchievement] = useState(null);
            
            const [achievements, setAchievements] = useState([
                { id: "first_upgrade", title: "Ï≤´ Í∞ïÌôî", description: "+1 Îã¨ÏÑ±", icon: "‚öîÔ∏è", unlocked: false },
                { id: "level_5", title: "ÏûÖÎ¨∏Ïûê", description: "+5 Îã¨ÏÑ±", icon: "üéñÔ∏è", unlocked: false },
                { id: "level_10", title: "ÏàôÎ†®Ïûê", description: "+10 Îã¨ÏÑ±", icon: "üèÖ", unlocked: false },
                { id: "level_15", title: "Ï†ÑÎ¨∏Í∞Ä", description: "+15 Îã¨ÏÑ±", icon: "üéóÔ∏è", unlocked: false },
                { id: "level_20", title: "ÎßàÏä§ÌÑ∞", description: "+20 Îã¨ÏÑ±", icon: "üèÜ", unlocked: false },
                { id: "level_25", title: "Ï†ÑÏÑ§", description: "+25 Îã¨ÏÑ±", icon: "üëë", unlocked: false },
                { id: "level_30", title: "Ïã†Ìôî", description: "+30 Îã¨ÏÑ±!", icon: "‚ú®", unlocked: false },
                { id: "first_destroy", title: "ÏïÑÌîà Í≤ΩÌóò", description: "Ï≤òÏùåÏúºÎ°ú Í≤Ä ÌååÍ¥¥", icon: "üíî", unlocked: false },
                { id: "rich", title: "Î∂ÄÏûê", description: "10Îßå Í≥®Îìú Î≥¥Ïú†", icon: "üí∞", unlocked: false },
                { id: "seller", title: "ÏÉÅÏù∏", description: "Í≤Ä 10Í∞ú ÌåêÎß§", icon: "üõí", unlocked: false },
            ]);

            const [totalSold, setTotalSold] = useState(0);
            const [hasDestroyed, setHasDestroyed] = useState(false);

            const audioContextRef = useRef(null);

            useEffect(() => {
                if (typeof window !== 'undefined') {
                    audioContextRef.current = new (window.AudioContext || window.webkitAudioContext)();
                }
            }, []);

            const playSound = (type) => {
                if (isMuted || !audioContextRef.current) return;

                const audioContext = audioContextRef.current;
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();

                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);

                switch (type) {
                    case 'success':
                        oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime);
                        oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1);
                        oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2);
                        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                        oscillator.start(audioContext.currentTime);
                        oscillator.stop(audioContext.currentTime + 0.5);
                        break;
                    case 'fail':
                        oscillator.frequency.setValueAtTime(200, audioContext.currentTime);
                        oscillator.frequency.exponentialRampToValueAtTime(100, audioContext.currentTime + 0.5);
                        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                        oscillator.start(audioContext.currentTime);
                        oscillator.stop(audioContext.currentTime + 0.5);
                        break;
                    case 'click':
                        oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                        gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                        oscillator.start(audioContext.currentTime);
                        oscillator.stop(audioContext.currentTime + 0.1);
                        break;
                    case 'coin':
                        oscillator.frequency.setValueAtTime(1000, audioContext.currentTime);
                        oscillator.frequency.setValueAtTime(1200, audioContext.currentTime + 0.05);
                        gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
                        oscillator.start(audioContext.currentTime);
                        oscillator.stop(audioContext.currentTime + 0.2);
                        break;
                    case 'achievement':
                        oscillator.frequency.setValueAtTime(440, audioContext.currentTime);
                        oscillator.frequency.setValueAtTime(554.37, audioContext.currentTime + 0.1);
                        oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.2);
                        oscillator.frequency.setValueAtTime(880, audioContext.currentTime + 0.3);
                        gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                        gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.6);
                        oscillator.start(audioContext.currentTime);
                        oscillator.stop(audioContext.currentTime + 0.6);
                        break;
                }
            };

            const checkAchievements = (level) => {
                const achievementChecks = [
                    { id: "first_upgrade", condition: level >= 1 },
                    { id: "level_5", condition: level >= 5 },
                    { id: "level_10", condition: level >= 10 },
                    { id: "level_15", condition: level >= 15 },
                    { id: "level_20", condition: level >= 20 },
                    { id: "level_25", condition: level >= 25 },
                    { id: "level_30", condition: level >= 30 },
                ];

                achievementChecks.forEach(check => {
                    if (check.condition) {
                        unlockAchievement(check.id);
                    }
                });

                if (gold >= 100000) {
                    unlockAchievement("rich");
                }

                if (totalSold >= 10) {
                    unlockAchievement("seller");
                }

                if (hasDestroyed) {
                    unlockAchievement("first_destroy");
                }
            };

            const unlockAchievement = (id) => {
                setAchievements(prev => {
                    const achievement = prev.find(a => a.id === id);
                    if (achievement && !achievement.unlocked) {
                        const newAchievements = prev.map(a => 
                            a.id === id ? { ...a, unlocked: true } : a
                        );
                        
                        const unlockedAchievement = newAchievements.find(a => a.id === id);
                        if (unlockedAchievement) {
                            setNewAchievement(unlockedAchievement);
                            playSound('achievement');
                            setTimeout(() => setNewAchievement(null), 3000);
                        }
                        
                        return newAchievements;
                    }
                    return prev;
                });
            };

            useEffect(() => {
                checkAchievements(swordLevel);
            }, [swordLevel, gold, totalSold, hasDestroyed]);

            const getSuccessRate = (level) => {
                if (level < 10) return 80;
                if (level < 15) return 70;
                if (level < 20) return 50;
                if (level < 25) return 30;
                if (level < 28) return 15;
                if (level < 30) return 5;
                return 1;
            };

            const getUpgradeCost = (level) => {
                return Math.floor(100 * Math.pow(1.5, level));
            };

            const getSellPrice = (level) => {
                if (level === 0) return 0;
                return Math.floor(500 * Math.pow(2, level - 1));
            };

            const getRequiredScrolls = (level) => {
                if (level < 15) return 1;
                if (level < 20) return 2;
                if (level < 25) return 3;
                if (level < 28) return 5;
                return 10;
            };

            const getScrollPrice = () => {
                return 5000;
            };

            const handleUpgrade = () => {
                const cost = getUpgradeCost(swordLevel);
                const requiredScrolls = getRequiredScrolls(swordLevel);
                
                if (swordLevel >= 30) {
                    showMessage("Ïù¥ÎØ∏ ÏµúÎåÄ Í∞ïÌôî Î†àÎ≤®ÏûÖÎãàÎã§!", "info");
                    return;
                }

                if (gold < cost) {
                    showMessage(`Í≥®ÎìúÍ∞Ä Î∂ÄÏ°±Ìï©ÎãàÎã§! (ÌïÑÏöî: ${cost.toLocaleString()}G)`, "fail");
                    playSound('fail');
                    return;
                }

                setGold(gold - cost);
                setUpgrading(true);
                playSound('click');

                setTimeout(() => {
                    const successRate = getSuccessRate(swordLevel);
                    const random = Math.random() * 100;
                    
                    if (random < successRate) {
                        const newLevel = swordLevel + 1;
                        setSwordLevel(newLevel);
                        setAnimationType("success");
                        playSound('success');
                        showMessage(`Í∞ïÌôî ÏÑ±Í≥µ! +${newLevel} ${SWORD_NAMES[newLevel]}`, "success");
                        addHistory(`‚ú® +${newLevel} Í∞ïÌôî ÏÑ±Í≥µ!`);
                    } else {
                        setAnimationType("fail");
                        if (protectionScrolls >= requiredScrolls) {
                            setProtectionScrolls(protectionScrolls - requiredScrolls);
                            playSound('click');
                            showMessage(`Í∞ïÌôî Ïã§Ìå®... Íπ®ÏßêÎ∞©ÏßÄÍ∂å ${requiredScrolls}Í∞ú ÏÇ¨Ïö©ÏúºÎ°ú Í≤Ä Î≥¥Ìò∏`, "info");
                            addHistory(`üõ°Ô∏è Í∞ïÌôî Ïã§Ìå® (Íπ®ÏßêÎ∞©ÏßÄÍ∂å ÏÇ¨Ïö©)`);
                        } else {
                            setSwordLevel(0);
                            setHasDestroyed(true);
                            playSound('fail');
                            showMessage("Í∞ïÌôî Ïã§Ìå®! Í≤ÄÏù¥ ÌååÍ¥¥ÎêòÏóàÏäµÎãàÎã§...", "fail");
                            addHistory(`üíî +${swordLevel} Í≤Ä ÌååÍ¥¥...`);
                        }
                    }

                    setTimeout(() => {
                        setUpgrading(false);
                        setAnimationType("");
                    }, 1000);
                }, 1000);
            };

            const handleSell = () => {
                if (swordLevel === 0) {
                    showMessage("ÌåêÎß§Ìï† Ïàò ÏûàÎäî Í≤ÄÏù¥ ÏóÜÏäµÎãàÎã§!", "info");
                    return;
                }

                const sellPrice = getSellPrice(swordLevel);
                setGold(gold + sellPrice);
                setTotalSold(totalSold + 1);
                playSound('coin');
                showMessage(`+${swordLevel} ${SWORD_NAMES[swordLevel]}ÏùÑ(Î•º) ${sellPrice.toLocaleString()}GÏóê ÌåêÎß§ÌñàÏäµÎãàÎã§!`, "success");
                addHistory(`üí∞ +${swordLevel} Í≤Ä ÌåêÎß§ (${sellPrice.toLocaleString()}G)`);
                setSwordLevel(0);
            };

            const handleBuyScroll = (amount) => {
                const cost = getScrollPrice() * amount;
                if (gold < cost) {
                    showMessage(`Í≥®ÎìúÍ∞Ä Î∂ÄÏ°±Ìï©ÎãàÎã§! (ÌïÑÏöî: ${cost.toLocaleString()}G)`, "fail");
                    playSound('fail');
                    return;
                }

                setGold(gold - cost);
                setProtectionScrolls(protectionScrolls + amount);
                playSound('coin');
                showMessage(`Íπ®ÏßêÎ∞©ÏßÄÍ∂å ${amount}Í∞úÎ•º Íµ¨Îß§ÌñàÏäµÎãàÎã§!`, "success");
            };

            const showMessage = (msg, type) => {
                setMessage(msg);
                setMessageType(type);
                setTimeout(() => setMessage(""), 3000);
            };

            const addHistory = (text) => {
                setHistory(prev => [text, ...prev].slice(0, 10));
            };

            const successRate = getSuccessRate(swordLevel);
            const upgradeCost = getUpgradeCost(swordLevel);
            const sellPrice = getSellPrice(swordLevel);
            const requiredScrolls = getRequiredScrolls(swordLevel);
            const unlockedCount = achievements.filter(a => a.unlocked).length;

            return (
                <div className="min-h-screen bg-gradient-to-br from-purple-900 via-blue-900 to-indigo-900 p-8">
                    <div className="max-w-4xl mx-auto">
                        <div className="text-center mb-8">
                            <h1 className="text-white text-4xl font-bold mb-2 flex items-center justify-center gap-3">
                                <Sword className="w-10 h-10" />
                                Í≤Ä Í∞ïÌôî Í≤åÏûÑ
                                <Sword className="w-10 h-10" />
                            </h1>
                            <p className="text-purple-200">Î™©Ìëú: +30 Í∞ïÌôî Îã¨ÏÑ±!</p>
                        </div>

                        <div className="bg-white/10 backdrop-blur-lg rounded-xl p-6 mb-6 border border-white/20">
                            <div className="grid grid-cols-3 gap-4">
                                <div className="flex items-center gap-3">
                                    <DollarSign className="w-8 h-8 text-yellow-400" />
                                    <div>
                                        <p className="text-purple-200 text-sm">Î≥¥Ïú† Í≥®Îìú</p>
                                        <p className="text-white text-xl font-bold">{gold.toLocaleString()} G</p>
                                    </div>
                                </div>
                                <div className="flex items-center gap-3">
                                    <Shield className="w-8 h-8 text-blue-400" />
                                    <div>
                                        <p className="text-purple-200 text-sm">Íπ®ÏßêÎ∞©ÏßÄÍ∂å</p>
                                        <p className="text-white text-xl font-bold">{protectionScrolls}Í∞ú</p>
                                    </div>
                                </div>
                                <div className="flex items-center gap-3">
                                    <Trophy className="w-8 h-8 text-yellow-400" />
                                    <div>
                                        <p className="text-purple-200 text-sm">ÏóÖÏ†Å</p>
                                        <p className="text-white text-xl font-bold">{unlockedCount}/{achievements.length}</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div className="grid md:grid-cols-2 gap-6 mb-6">
                            <div className="bg-white/10 backdrop-blur-lg rounded-xl p-8 border border-white/20 relative overflow-hidden">
                                {animationType === "success" && (
                                    <div className="absolute inset-0 bg-yellow-400/30 animate-pulse pointer-events-none z-10" />
                                )}
                                {animationType === "fail" && (
                                    <div className="absolute inset-0 bg-red-600/30 animate-pulse pointer-events-none z-10" />
                                )}
                                
                                <div className="text-center relative z-20">
                                    <div className="mb-6">
                                        <Sword 
                                            className={`w-32 h-32 mx-auto transition-all duration-500 ${
                                                upgrading ? 'animate-spin' : ''
                                            } ${
                                                swordLevel === 0 ? 'text-gray-400' :
                                                swordLevel < 10 ? 'text-gray-300' :
                                                swordLevel < 20 ? 'text-blue-400' :
                                                swordLevel < 30 ? 'text-purple-400' :
                                                'text-yellow-400'
                                            }`}
                                            style={{
                                                filter: swordLevel >= 20 ? 'drop-shadow(0 0 20px currentColor)' : 'none',
                                                transform: animationType === "success" ? 'scale(1.2)' : 'scale(1)'
                                            }}
                                        />
                                    </div>
                                    
                                    {swordLevel === 0 ? (
                                        <div>
                                            <p className="text-gray-400 text-xl mb-2">Í≤ÄÏù¥ ÏóÜÏäµÎãàÎã§</p>
                                            <p className="text-gray-500 text-sm">Í∞ïÌôîÎ•º ÏãúÏûëÌïòÏÑ∏Ïöî!</p>
                                        </div>
                                    ) : (
                                        <div>
                                            <div className="text-yellow-400 text-3xl font-bold mb-2">+{swordLevel}</div>
                                            <p className="text-white text-xl mb-4">{SWORD_NAMES[swordLevel]}</p>
                                            <div className="bg-white/5 rounded-lg p-3 mb-4">
                                                <p className="text-purple-200 text-sm">ÌåêÎß§ Í∞ÄÍ≤©</p>
                                                <p className="text-yellow-400 text-xl font-bold">{sellPrice.toLocaleString()} G</p>
                                            </div>
                                            <button
                                                onClick={handleSell}
                                                className="w-full bg-green-600 hover:bg-green-700 text-white py-3 rounded-lg transition-colors flex items-center justify-center gap-2 font-medium"
                                            >
                                                <DollarSign className="w-5 h-5" />
                                                Í≤Ä ÌåêÎß§ÌïòÍ∏∞
                                            </button>
                                        </div>
                                    )}
                                </div>
                            </div>

                            <div className="bg-white/10 backdrop-blur-lg rounded-xl p-8 border border-white/20">
                                <h3 className="text-white text-xl font-bold mb-4 flex items-center gap-2">
                                    <Sparkles className="w-6 h-6 text-yellow-400" />
                                    Í∞ïÌôî Ï†ïÎ≥¥
                                </h3>
                                
                                {swordLevel >= 30 ? (
                                    <div className="text-center py-12">
                                        <p className="text-yellow-400 text-3xl mb-2 animate-bounce">üéâ Ï∂ïÌïòÌï©ÎãàÎã§! üéâ</p>
                                        <p className="text-white text-xl">ÏµúÎåÄ Í∞ïÌôî Îã¨ÏÑ±!</p>
                                    </div>
                                ) : (
                                    <div className="space-y-4">
                                        <div className="bg-white/5 rounded-lg p-4">
                                            <p className="text-purple-200 text-sm mb-1">ÌòÑÏû¨ Í∞ïÌôî</p>
                                            <p className="text-white text-2xl font-bold">+{swordLevel} ‚Üí +{swordLevel + 1}</p>
                                        </div>

                                        <div className="bg-white/5 rounded-lg p-4">
                                            <p className="text-purple-200 text-sm mb-2">ÏÑ±Í≥µ ÌôïÎ•†</p>
                                            <div className="w-full bg-gray-700 rounded-full h-6 overflow-hidden">
                                                <div 
                                                    className={`h-full flex items-center justify-center text-white text-sm transition-all duration-300 font-bold ${
                                                        successRate >= 50 ? 'bg-green-500' :
                                                        successRate >= 30 ? 'bg-yellow-500' :
                                                        successRate >= 10 ? 'bg-orange-500' :
                                                        'bg-red-500'
                                                    }`}
                                                    style={{ width: `${successRate}%` }}
                                                >
                                                    {successRate}%
                                                </div>
                                            </div>
                                        </div>

                                        <div className="bg-white/5 rounded-lg p-4">
                                            <p className="text-purple-200 text-sm mb-1">Í∞ïÌôî ÎπÑÏö©</p>
                                            <p className="text-yellow-400 text-xl font-bold">{upgradeCost.toLocaleString()} G</p>
                                        </div>

                                        <div className="bg-white/5 rounded-lg p-4">
                                            <p className="text-purple-200 text-sm mb-1">Ïã§Ìå® Ïãú ÌïÑÏöî Íπ®ÏßêÎ∞©ÏßÄÍ∂å</p>
                                            <p className="text-blue-400 text-xl font-bold">{requiredScrolls}Í∞ú</p>
                                        </div>

                                        <button
                                            onClick={handleUpgrade}
                                            disabled={gold < upgradeCost || upgrading}
                                            className="w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 disabled:from-gray-600 disabled:to-gray-700 text-white py-4 rounded-lg transition-all text-xl flex items-center justify-center gap-2 disabled:cursor-not-allowed font-bold"
                                        >
                                            <Sparkles className={`w-6 h-6 ${upgrading ? 'animate-spin' : ''}`} />
                                            {upgrading ? 'Í∞ïÌôî Ï§ë...' : 'Í∞ïÌôîÌïòÍ∏∞'}
                                        </button>
                                    </div>
                                )}
                            </div>
                        </div>

                        <div className="grid md:grid-cols-3 gap-6 mb-6">
                            <button
                                onClick={() => {
                                    setShowShop(true);
                                    playSound('click');
                                }}
                                className="bg-white/10 hover:bg-white/20 backdrop-blur-lg rounded-xl p-6 border border-white/20 transition-all text-white flex items-center justify-center gap-3 font-medium"
                            >
                                <ShoppingCart className="w-6 h-6" />
                                ÏÉÅÏ†ê Ïó¥Í∏∞
                            </button>

                            <button
                                onClick={() => {
                                    setShowAchievements(true);
                                    playSound('click');
                                }}
                                className="bg-white/10 hover:bg-white/20 backdrop-blur-lg rounded-xl p-6 border border-white/20 transition-all text-white flex items-center justify-center gap-3 font-medium"
                            >
                                <Trophy className="w-6 h-6" />
                                ÏóÖÏ†Å ({unlockedCount}/{achievements.length})
                            </button>

                            <button
                                onClick={() => {
                                    setIsMuted(!isMuted);
                                    playSound('click');
                                }}
                                className="bg-white/10 hover:bg-white/20 backdrop-blur-lg rounded-xl p-6 border border-white/20 transition-all text-white flex items-center justify-center gap-3 font-medium"
                            >
                                {isMuted ? <VolumeX className="w-6 h-6" /> : <Volume2 className="w-6 h-6" />}
                                {isMuted ? 'ÏùåÏÜåÍ±∞' : 'ÏÇ¨Ïö¥Îìú'}
                            </button>
                        </div>

                        <div className="bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20 mb-6">
                            <p className="text-center text-purple-200 mb-2">
                                ÏßÑÌñâÎèÑ: <span className="text-white text-xl font-bold">{swordLevel}/30</span>
                            </p>
                            <div className="w-full bg-gray-700 rounded-full h-3 overflow-hidden">
                                <div 
                                    className="h-full bg-gradient-to-r from-green-500 to-yellow-500 transition-all duration-300"
                                    style={{ width: `${(swordLevel / 30) * 100}%` }}
                                />
                            </div>
                        </div>

                        {history.length > 0 && (
                            <div className="bg-white/10 backdrop-blur-lg rounded-xl p-6 border border-white/20">
                                <h3 className="text-white font-bold mb-3">ÏµúÍ∑º Í∏∞Î°ù</h3>
                                <div className="space-y-2">
                                    {history.map((item, index) => (
                                        <div 
                                            key={index}
                                            className="text-purple-200 text-sm bg-white/5 rounded px-3 py-2 animate-fadeIn"
                                        >
                                            {item}
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}

                        {message && (
                            <div className={`fixed bottom-8 left-1/2 -translate-x-1/2 px-6 py-4 rounded-lg shadow-lg text-white text-center max-w-md z-50 font-medium ${
                                messageType === 'success' ? 'bg-green-600 animate-bounce' :
                                messageType === 'fail' ? 'bg-red-600 animate-shake' :
                                'bg-blue-600 animate-bounce'
                            }`}>
                                {message}
                            </div>
                        )}

                        {newAchievement && (
                            <div className="fixed top-8 right-8 bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-6 py-4 rounded-lg shadow-lg z-50 animate-slideIn max-w-xs">
                                <div className="flex items-center gap-3">
                                    <span className="text-3xl">{newAchievement.icon}</span>
                                    <div>
                                        <p className="font-bold">ÏóÖÏ†Å Îã¨ÏÑ±!</p>
                                        <p className="text-sm">{newAchievement.title}</p>
                                    </div>
                                </div>
                            </div>
                        )}

                        {showShop && (
                            <div className="fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 animate-fadeIn">
                                <div className="bg-gradient-to-br from-indigo-900 to-purple-900 rounded-xl p-8 max-w-md w-full border-2 border-white/30 relative animate-scaleIn">
                                    <button
                                        onClick={() => {
                                            setShowShop(false);
                                            playSound('click');
                                        }}
                                        className="absolute top-4 right-4 text-white hover:text-gray-300"
                                    >
                                        <X className="w-6 h-6" />
                                    </button>
                                    
                                    <h2 className="text-white text-2xl font-bold mb-6 flex items-center gap-2">
                                        <ShoppingCart className="w-8 h-8" />
                                        ÏÉÅÏ†ê
                                    </h2>

                                    <div className="space-y-4">
                                        <div className="bg-white/10 rounded-lg p-4">
                                            <div className="flex items-center gap-3 mb-3">
                                                <Shield className="w-8 h-8 text-blue-400" />
                                                <div>
                                                    <p className="text-white font-medium">Íπ®ÏßêÎ∞©ÏßÄÍ∂å</p>
                                                    <p className="text-purple-200 text-sm">{getScrollPrice().toLocaleString()} G / Í∞ú</p>
                                                </div>
                                            </div>
                                            <div className="grid grid-cols-3 gap-2">
                                                <button
                                                    onClick={() => handleBuyScroll(1)}
                                                    className="bg-blue-600 hover:bg-blue-700 text-white py-2 rounded transition-colors font-medium"
                                                >
                                                    1Í∞ú
                                                </button>
                                                <button
                                                    onClick={() => handleBuyScroll(5)}
                                                    className="bg-blue-600 hover:bg-blue-700 text-white py-2 rounded transition-colors font-medium"
                                                >
                                                    5Í∞ú
                                                </button>
                                                <button
                                                    onClick={() => handleBuyScroll(10)}
                                                    className="bg-blue-600 hover:bg-blue-700 text-white py-2 rounded transition-colors font-medium"
                                                >
                                                    10Í∞ú
                                                </button>
                                            </div>
                                        </div>

                                        <div className="bg-white/5 rounded-lg p-4 text-purple-200 text-sm">
                                            <p className="mb-2">üí° ÌåÅ:</p>
                                            <ul className="space-y-1 list-disc list-inside">
                                                <li>Í∞ïÌôîÍ∞Ä ÎÜíÏùÑÏàòÎ°ù Îçî ÎßéÏùÄ Íπ®ÏßêÎ∞©ÏßÄÍ∂åÏù¥ ÌïÑÏöîÌï©ÎãàÎã§</li>
                                                <li>Í≤ÄÏùÑ ÌåêÎß§ÌïòÎ©¥ ÎßéÏùÄ Í≥®ÎìúÎ•º ÏñªÏùÑ Ïàò ÏûàÏäµÎãàÎã§</li>
                                                <li>Í≥†Í∞ïÌôî Íµ¨Í∞ÑÏùÄ ÌôïÎ•†Ïù¥ Îß§Ïö∞ ÎÇÆÏúºÎãà Ï£ºÏùòÌïòÏÑ∏Ïöî!</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        )}

                        {showAchievements && (
                            <div className="fixed inset-0 bg-black/70 flex items-center justify-center z-50 p-4 animate-fadeIn">
                                <div className="bg-gradient-to-br from-indigo-900 to-purple-900 rounded-xl p-8 max-w-2xl w-full border-2 border-white/30 relative animate-scaleIn max-h-[80vh] overflow-y-auto">
                                    <button
                                        onClick={() => {
                                            setShowAchievements(false);
                                            playSound('click');
                                        }}
                                        className="absolute top-4 right-4 text-white hover:text-gray-300"
                                    >
                                        <X className="w-6 h-6" />
                                    </button>
                                    
                                    <h2 className="text-white text-2xl font-bold mb-6 flex items-center gap-2">
                                        <Trophy className="w-8 h-8" />
                                        ÏóÖÏ†Å ({unlockedCount}/{achievements.length})
                                    </h2>

                                    <div className="grid md:grid-cols-2 gap-4">
                                        {achievements.map((achievement) => (
                                            <div
                                                key={achievement.id}
                                                className={`rounded-lg p-4 border-2 transition-all ${
                                                    achievement.unlocked
                                                        ? 'bg-yellow-500/20 border-yellow-500'
                                                        : 'bg-white/5 border-white/10 opacity-50'
                                                }`}
                                            >
                                                <div className="flex items-start gap-3">
                                                    <span className="text-3xl">{achievement.icon}</span>
                                                    <div className="flex-1">
                                                        <p className={`${achievement.unlocked ? 'text-yellow-400' : 'text-gray-400'} mb-1 font-medium`}>
                                                            {achievement.title}
                                                        </p>
                                                        <p className="text-purple-200 text-sm">{achievement.description}</p>
                                                        {achievement.unlocked && (
                                                            <p className="text-green-400 text-sm mt-1">‚úì Îã¨ÏÑ±!</p>
                                                        )}
                                                    </div>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </div>
                        )}
                    </div>
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
